# 100-Makefile
# why does $(RM work even if RM isn't declared?
# how can I tell if flags are working even if I don't uae $(CFLAGS)

CC=gcc
SRC=holberton.c main.c
OBJ=$(SRC:%.c=%.o) # replaces all instances of '.c' with '.o'
NAME=holberton
CFLAGS= -pedantic -Wall -Werror -Wextra

# prevents 'make' from doing something with files named 'clean' 'oclean' and 'fclean'
.PHONY: all clean oclean fclean re $(NAME)

# only applies rule if source files have changed
# will not compile if m.h is missing
$(NAME): m.h $(OBJ)
	$(CC) $(OBJ) -o $(NAME)

# deletes EMACS temp files and executable file
clean:
	$(RM) *~ $(NAME)

#deletes object files
oclean:
	$(RM) $(OBJ)

# deletes EMACS temp files, object files and the executable file
fclean: clean oclean

#forces recompilation of all source files
re: oclean all
